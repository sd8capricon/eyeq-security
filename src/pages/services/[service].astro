---
// Paths
import { staticPaths } from "../../data/services";
import Section from "../../layouts/Section.astro";

// Layout
import ServiceLayoutBase from "../../layouts/ServiceLayoutBase.astro";

// Components
import ServiceFeatureCard from "../../components/Service/ServiceFeatureCard.astro";

export const getStaticPaths = staticPaths;

const { service } = Astro.params;
const {
    title,
    first_para_italic,
    first_para,
    highlight_title,
    highlight_list,
    second_para,
    img,
    feature_title_top,
    feature_title_main,
    features,
} = Astro.props;
---

<ServiceLayoutBase
    service_title={title}
    service_path={service}
    service_description="some description"
    service_img={img}
>
    <p class={first_para_italic ? "fst-italic" : ""} slot="first-paragraph">
        {first_para}
    </p>

    {
        highlight_title && (
            <>
                <h3 slot="highlight-title">{highlight_title}</h3>
                <ul slot="highlight-ul">
                    {highlight_list.map((li) => (
                        <li>{li}</li>
                    ))}
                </ul>
            </>
        )
    }

    {second_para && <p slot="second-paragraph" set:html={second_para} />}

    {
        features && (
            <Section
                title_top={feature_title_top}
                title_main={feature_title_main}
            >
                <div class="row">
                    {features.map((feature) => (
                        <div class="col-md-6">
                            <ServiceFeatureCard
                                feature={feature.feature}
                                description={feature.description}
                            />
                        </div>
                    ))}
                </div>
            </Section>
        )
    }
</ServiceLayoutBase>
